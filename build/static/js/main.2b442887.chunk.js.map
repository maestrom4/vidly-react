{"version":3,"sources":["components/commons/navBar.jsx","services/logService.js","services/httpService.js","services/movieService.js","services/genreService.js","components/commons/pagination.jsx","components/commons/listGroup.jsx","components/commons/like.jsx","components/commons/tableHeader.jsx","components/commons/tableBody.jsx","components/commons/table.jsx","services/authService.js","components/moviesTable.jsx","components/commons/searchBox.jsx","components/movies.jsx","utils/paginate.js","components/rentals.jsx","components/customers.jsx","components/commons/input.jsx","components/commons/select.jsx","components/commons/form.jsx","components/movieForm.jsx","components/page404.jsx","components/loginForm.jsx","services/userService.js","components/registerForm.jsx","components/logout.jsx","components/commons/protectedRoute.jsx","components/pages.jsx","App.js","serviceWorker.js","index.js"],"names":["collapsed","Navbar","user","classOne","classTwo","className","to","onClick","console","log","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","name","renderUserAndLogoutBtn","init","error","axios","defaults","baseURL","process","interceptors","response","use","status","toast","logger","Promise","reject","get","post","put","delete","setJwt","jwt","headers","common","getMovies","a","http","data","movieUrl","getMovie","saveMovie","movie","_id","body","getGenres","Pagination","props","itemsCount","currentPage","pageSize","onPageChange","action","pagesCount","Math","ceil","itemData","_","range","notEqualOne","classes","previous","map","pageNumber","active","key","paginationItem","numberNotMax","length","href","next","defaultProps","listGroup","items","textProperty","valueProperty","item","selected","onItemSelect","Like","isLiked","likeData","iconElement","style","cursor","aria-hidden","TableHeader","raiseSort","path","tableProps","onSort","sortHeaderAsc","sortColumn","order","renderSortIcon","column","undefined","showTableHeader","columns","index","label","this","Component","PropTypes","bool","isRequired","TableBody","renderCell","content","createKey","Table","raiseLike","raiseDelete","propType","array","func","email","password","localStorage","setItem","getJwt","getItem","login","logout","removeItem","window","location","getCurrentUser","jwtDecode","ex","loginWithJwt","MoviesTable","title","like","onLike","deleteColumn","onDelete","auth","isAdmin","push","moviesData","SearchBox","value","onChange","placeholder","e","currentTarget","Movies","state","genres","movies","table","pagination","search","handleDelete","handleLike","indexOf","setState","handlePageChange","page","handleItemSelect","handleSort","filtered","filter","genre","sortedTable","orderBy","searchItem","toLowerCase","startsWith","handleSearch","query","paginationInt","allData","pageItemSize","tableInit","genreInit","movieInit","startIndex","slice","take","paginate","Rentals","Customers","Input","rest","htmlFor","Select","options","Form","errors","validate","result","Joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","renderButton","buttonOnly","formButton","disabled","renderInput","getSelectedItem","itemId","renderSelect","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","precision","history","idChecker","movieId","match","params","mapToViewModel","populateGenres","populateMovies","onSubmit","Page404","LoginForm","username","from","pathname","register","RegisterForm","userService","Logout","ProtectedRoute","component","render","exact","Pages","App","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.2b442887.chunk.js","sourcesContent":["import React from 'react';\n// import { Route, NavLink } from 'react-router-dom';\nimport { NavLink } from 'react-router-dom';\n\nlet collapsed = true;\n\nfunction toggleNavbar() {\n  collapsed = !collapsed;\n  console.log('collapsed', collapsed);\n}\n\nfunction renderLoginAndRegBtn() {\n  return (\n    <>\n      <li className=\"nav-item\">\n        <NavLink className=\"nav-link\" to=\"/login\">\n          Login\n        </NavLink>\n      </li>\n      <li className=\"nav-item\">\n        <NavLink className=\"nav-link\" to=\"/register\">\n          Register\n        </NavLink>\n      </li>\n    </>\n  );\n}\n\nfunction renderUserAndLogoutBtn(user) {\n  return (\n    <>\n      <li className=\"nav-item\">\n        <NavLink className=\"nav-link\" to=\"/profile\">\n          {user.name}\n        </NavLink>\n      </li>\n      <li className=\"nav-item\">\n        <NavLink className=\"nav-link\" to=\"/logout\">\n          Logout\n        </NavLink>\n      </li>\n    </>\n  );\n}\n\nconst Navbar = ({ user }) => {\n  // console.log('userprops', userData);\n  // const { collapsed } = this.state;\n  const classOne =\n    collapsed === true\n      ? 'collapse navbar-collapse'\n      : 'collapse navbar-collapse show';\n  const classTwo =\n    collapsed === true\n      ? 'navbar-toggler navbar-toggler-right collapsed'\n      : 'navbar-toggler navbar-toggler-right';\n\n  return (\n    <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n      <div className=\"container\">\n        <NavLink className=\"navbar-brand\" to=\"/\">\n          Vidly\n        </NavLink>\n        <button\n          onClick={() => toggleNavbar()}\n          className={`${classTwo}`}\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarResponsive\"\n          aria-controls=\"navbarResponsive\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\" />\n        </button>\n        <div className={`${classOne}`} id=\"navbarNav\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" to=\"/movies\">\n                Movies <span className=\"sr-only\">(current)</span>\n              </NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" to=\"/customers\">\n                Customers\n              </NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" to=\"/rentals\">\n                Rentals\n              </NavLink>\n            </li>\n            {!user && renderLoginAndRegBtn()}\n            {user && renderUserAndLogoutBtn(user)}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n\n// class Navbar extends Component {\n//   state = {\n//     collapsed: true,\n//     // user: {},\n//   };\n\n//   constructor(props) {\n//     super(props);\n//     console.log('props', props);\n//     console.log('props', this.props);\n//     // this.toggleNavbar = this.toggleNavbar.bind(this);\n//     this.state = {\n//       collapsed: true,\n//     };\n//     const { user } = this.props;\n//     console.log('navbar user', user);\n//     console.log('navbar user', this.props.user);\n//   }\n\n//   componentDidMount() {\n//     const { user } = this.props;\n//     console.log('navbar user', user);\n//     console.log('navbar user', this.props);\n//   }\n\n//   toggleNavbar = () => {\n//     const { collapsed } = this.state;\n//     this.setState({\n//       collapsed: !collapsed,\n//     });\n//   };\n\n//   render() {\n//     const { collapsed } = this.state;\n//     const classOne = collapsed\n//       ? 'collapse navbar-collapse'\n//       : 'collapse navbar-collapse show';\n//     const classTwo = collapsed\n//       ? 'navbar-toggler navbar-toggler-right collapsed'\n//       : 'navbar-toggler navbar-toggler-right';\n\n//     return (\n//       <nav className=\"navbar navbar-expand-md navbar-light bg-light\">\n//         <div className=\"container\">\n//           <NavLink className=\"navbar-brand\" to=\"/\">\n//             Vidly\n//           </NavLink>\n//           <button\n//             onClick={this.toggleNavbar}\n//             className={`${classTwo}`}\n//             type=\"button\"\n//             data-toggle=\"collapse\"\n//             data-target=\"#navbarResponsive\"\n//             aria-controls=\"navbarResponsive\"\n//             aria-expanded=\"false\"\n//             aria-label=\"Toggle navigation\"\n//           >\n//             <span className=\"navbar-toggler-icon\" />\n//           </button>\n//           <div className={`${classOne}`} id=\"navbarNav\">\n//             <ul className=\"navbar-nav\">\n//               <li className=\"nav-item\">\n//                 <NavLink className=\"nav-link\" to=\"/movies\">\n//                   Movies <span className=\"sr-only\">(current)</span>\n//                 </NavLink>\n//               </li>\n//               <li className=\"nav-item\">\n//                 <NavLink className=\"nav-link\" to=\"/customers\">\n//                   Customers\n//                 </NavLink>\n//               </li>\n//               <li className=\"nav-item\">\n//                 <NavLink className=\"nav-link\" to=\"/rentals\">\n//                   Rentals\n//                 </NavLink>\n//               </li>\n//               <li className=\"nav-item\">\n//                 <NavLink className=\"nav-link\" to=\"/login\">\n//                   Login\n//                 </NavLink>\n//               </li>\n//               <li className=\"nav-item\">\n//                 <NavLink className=\"nav-link\" to=\"/register\">\n//                   Register\n//                 </NavLink>\n//               </li>\n//             </ul>\n//           </div>\n//         </div>\n//       </nav>\n//     );\n//   }\n// }\n\n// export default Navbar;\n","// import * as Sentry from '@sentry/react';\n// import { Integrations } from '@sentry/tracing';\n\nfunction init() {\n  //   Sentry.init({\n  //     dsn:\n  //       'https://35f2d5ae28534a52bf15bfdc1877f1c1@o486045.ingest.sentry.io/5542232',\n  //     integrations: [new Integrations.BrowserTracing()],\n  //     // We recommend adjusting this value in production, or using tracesSampler\n  //     // for finer control\n  //     tracesSampleRate: 1.0,\n  //   });\n}\n\nfunction log(error) {\n  //   Sentry.captureException(error);\n}\n\nexport default {\n  init,\n  log,\n};\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\nimport logger from './logService';\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n  if (!expectedError) {\n    toast.error('An unexpected error occured(interceptors)');\n    logger.log(error);\n  }\n  return Promise.reject(error);\n});\n\nfunction setJwt(jwt) {\n  axios.defaults.headers.common['x-auth-token'] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt,\n};\n","import http from './httpService';\nimport { apiUrl } from '../config.json';\n\nconst apiEndPointMovies = '/movies';\n\nexport async function getMovies() {\n  const { data } = await http.get(apiEndPointMovies);\n  console.log('movieServices', data);\n  console.log('apiEndPointMovies', apiEndPointMovies);\n  return data;\n}\n\nfunction movieUrl(id) {\n  return `${apiEndPointMovies}/${id}`;\n}\n\nexport async function getMovie(id) {\n  return http.get(movieUrl(id));\n}\n\nexport async function saveMovie(movie) {\n  if (movie._id) {\n    const body = { ...movie };\n    delete body._id;\n    return http.put(movieUrl(movie._id), body);\n  }\n  return http.post(apiEndPointMovies, movie);\n}\n\nexport async function deleteMovie(id) {\n  // const { data } = await movies;\n  // const movieInDb = data.find((m) => m._id === id);\n  // console.log(' delete result', movieInDb);\n  const { data } = await http.delete(movieUrl(id));\n  // console.log(' delete result', data);\n  // movies.splice(movies.indexOf(movieInDb), 1);\n  return data;\n}\n","import http from './httpService';\n\nexport function getGenres() {\n  return http.get('/genres');\n}\n","import React from 'react';\nimport _ from 'lodash';\nimport '../../resource/commons/pagination.css';\nimport PropTypes from 'prop-types';\n\nconst previous = (currentPage, onPageChange, action) => {\n  const notEqualOne = currentPage > 1 ? currentPage - 1 : 1;\n  const classes = action === 'previous' ? 'page-item active' : 'page-item';\n  return (\n    <li className={classes}>\n      <button\n        type=\"button\"\n        className=\"page-link\"\n        aria-label=\"Previous\"\n        onClick={() => onPageChange(notEqualOne, 'previous')}\n      >\n        Previous\n      </button>\n    </li>\n  );\n};\nconst next = (itemData, currentPage, onPageChange, action) => {\n  const numberNotMax =\n    currentPage < itemData.length ? currentPage + 1 : itemData.length;\n  const classes = action === 'next' ? 'page-item active' : 'page-item';\n  return (\n    <li className={classes}>\n      <button\n        type=\"button\"\n        className=\"page-link\"\n        href=\"#\"\n        aria-label=\"Next\"\n        onClick={() => onPageChange(numberNotMax, 'next')}\n      >\n        Next\n      </button>\n    </li>\n  );\n};\n\nconst paginationItem = (itemData, onPageChange, currentPage) => {\n  return itemData.map((pageNumber) => {\n    const active =\n      pageNumber === currentPage ? 'page-item active' : 'page-item';\n    return (\n      <li key={pageNumber} className={active}>\n        <button\n          onClick={() => onPageChange(pageNumber, 'data')}\n          type=\"button\"\n          className=\"page-link active-selected\"\n        >\n          {pageNumber}\n        </button>\n      </li>\n    );\n  });\n};\n\nconst Pagination = (props) => {\n  const { itemsCount, currentPage, pageSize, onPageChange, action } = props;\n  console.log('pagination', props);\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount <= 1) return null;\n  const itemData = _.range(1, pagesCount + 1);\n  return (\n    <nav aria-label=\"Page navigation\">\n      <ul className=\"pagination\">\n        {previous(currentPage, onPageChange, action)}\n        {paginationItem(itemData, onPageChange, currentPage)}\n        {next(itemData, currentPage, onPageChange, action)}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n  action: PropTypes.string.isRequired,\n};\n\nPagination.defaultProps = {\n  itemsCount: 4,\n  currentPage: 1,\n  pageSize: 4,\n  onPageChange: () => {},\n  action: 'data',\n};\n\nexport default Pagination;\n","import React from 'react';\n\nconst listGroup = (props) => {\n  const { items, textProperty, valueProperty } = props;\n  //   const classes =\n  // console.log('listGroup items', items);\n  return (\n    <ul className=\"list-group\">\n      {items.data.map((item) => (\n        <li\n          key={item[valueProperty]}\n          className={\n            items.selected._id === item[valueProperty]\n              ? 'list-group-item active-selected'\n              : 'list-group-item'\n          }\n          onClick={() => props.onItemSelect(item)}\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nlistGroup.defaultProps = {\n  textProperty: 'name',\n  valueProperty: '_id',\n};\n\nexport default listGroup;\n","import React  from 'react';\n\nconst isLike = (isLiked) => {\n    const iconElement =  'fa fa-heart'\n    return isLiked === true ? iconElement : iconElement + '-o';\n}\n\nconst Like = props => {\n    return ( \n        <i \n            className={isLike(props.likeData)} style={{ cursor: 'pointer' }}\n            onClick={props.onClick}\n            aria-hidden=\"true\">\n        </i>\n    );\n}\n \nexport default Like;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass TableHeader extends Component {\n  raiseSort = (path) => {\n    const { tableProps, onSort } = this.props;\n    tableProps.sortHeaderAsc = !tableProps.sortHeaderAsc;\n    tableProps.sortColumn.path = path;\n    tableProps.sortColumn.order =\n      tableProps.sortHeaderAsc === true ? 'asc' : 'desc';\n\n    onSort({ tableProps });\n  };\n\n  renderSortIcon = (column) => {\n    const { tableProps } = this.props;\n    const { sortColumn } = tableProps;\n    if (column.path !== sortColumn.path || column.path === undefined)\n      return null;\n    if (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\" />;\n    return <i className=\"fa fa-sort-desc\" />;\n  };\n\n  showTableHeader = (props) => {\n    const { columns } = props;\n    return (\n      <tr key=\"item\">\n        {columns.map((item, index) => (\n          <th\n            key={item.id}\n            onClick={() => this.raiseSort(item.path)}\n            className=\"clickable\"\n          >\n            {item.label} {this.renderSortIcon(item)}\n          </th>\n        ))}\n      </tr>\n    );\n  };\n\n  render() {\n    return <thead>{this.showTableHeader(this.props)}</thead>;\n  }\n}\n\nexport default TableHeader;\n\nTableHeader.propTypes = {\n  tableProps: PropTypes.shape({\n    data: PropTypes.array.isRequired,\n    // header: PropTypes.array.isRequired,\n    sortColumn: PropTypes.shape({\n      path: PropTypes.string.isRequired,\n      order: PropTypes.string.isRequired,\n    }),\n    sortHeaderAsc: PropTypes.bool.isRequired,\n  }),\n};\n\nTableHeader.defaultProps = {\n  tableProps: {\n    data: [],\n    // header: [],\n    sortColumn: {\n      path: 'title',\n      order: 'asc',\n    },\n    sortHeaderAsc: PropTypes.bool.isRequired,\n  },\n};\n","import React, { Component } from 'react';\nimport _ from 'lodash';\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item.id + column.path || column.key;\n  };\n\n  render() {\n    const { data, columns } = this.props;\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((column, index) => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TableHeader from './tableHeader';\nimport TableBody from './tableBody';\n\nconst Table = ({\n  columns,\n  raiseLike,\n  raiseDelete,\n  onSort,\n  data,\n  tableProps,\n}) => {\n  return (\n    <table className=\"table tablesorter\">\n      <TableHeader tableProps={tableProps} onSort={onSort} columns={columns} />\n      <TableBody\n        data={data}\n        raiseLike={raiseLike}\n        raiseDelete={raiseDelete}\n        columns={columns}\n      />\n    </table>\n  );\n};\n\nexport default Table;\n\nTable.propType = {\n  data: PropTypes.array.isRequired,\n  raiseLike: PropTypes.func.isRequired,\n  raiseDelete: PropTypes.func.isRequired,\n  columns: PropTypes.array.isRequired,\n};\n\nTable.defaultProps = {\n  data: [],\n  raiseLike: () => {},\n  raiseDelete: () => {},\n  columns: [],\n};\n","import jwtDecode from 'jwt-decode';\nimport http from './httpService';\n\nconst apiEndPointAuth = `/auth`;\nconst tokenKey = 'token';\n\nhttp.setJwt(getJwt());\n\nexport async function login(email, password) {\n  const { data: jwt } = await http.post(apiEndPointAuth, { email, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n  window.location = '/';\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n  getJwt,\n};\n","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Like from './commons/like';\nimport Table from './commons/table';\nimport auth from '../services/authService';\n\nclass MoviesTable extends Component {\n  columns = [\n    {\n      path: 'title',\n      id: '5ba21ca3e3sdfsfdfaeeebssabfbcacd471818',\n      label: 'Title',\n      key: 'title',\n      content: (movie) => (\n        <NavLink to={`/movies/${movie._id}`}>{movie.title}</NavLink>\n      ),\n    },\n    {\n      path: 'genre.name',\n      id: '5ba21ca3e3sdfssfdfaeeebssabfbcacd471818',\n      label: 'Genre',\n    },\n    {\n      path: 'numberInStock',\n      id: '5ba21ca32esdfsfdfaeedebssabfbcacd471818',\n      label: 'Stock',\n    },\n    {\n      path: 'dailyRentalRate',\n      id: 'zzdfew21ca3234es3dfasfdfaeeebssabfbcacd471818',\n      label: 'Rate',\n    },\n    {\n      key: 'like',\n      id: '5ba21ca3234es3dfasfdfaeeebssabfbcacd471818',\n      content: (movie) => (\n        <Like likeData={movie.like} onClick={() => this.props.onLike(movie)} />\n      ),\n    },\n  ];\n\n  deleteColumn = {\n    key: 'delete',\n    id: '23421ca3234es3dfasfdfaeeebssabfbcacd471818',\n    content: (movie) => (\n      <button\n        type=\"button\"\n        onClick={() => this.props.onDelete(movie._id)}\n        className=\"btn btn-danger btn-sm rounded-circle pt-0 pb-0 ml-3 px-2\"\n      >\n        x\n      </button>\n    ),\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser();\n    if (user && user.isAdmin) this.columns.push(this.deleteColumn);\n  }\n\n  raiseDelete = (id) => {\n    const { onDelete } = this.props;\n    onDelete(id);\n  };\n\n  raiseLike = (movie) => {\n    const { onLike } = this.props;\n    onLike({ movie });\n  };\n\n  raiseSort = (tableProps) => {\n    const { onSort } = this.props;\n    onSort(tableProps);\n  };\n\n  render() {\n    const { moviesData, tableProps } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        raiseLike={this.raiseLike}\n        raiseDelete={this.raiseDelete}\n        onSort={this.raiseSort}\n        tableProps={tableProps}\n        data={moviesData}\n      />\n    );\n  }\n}\n\nexport default MoviesTable;\n","import React from 'react';\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Search...\"\n      value={value}\n      onChange={(e) => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport { getMovies } from '../services/movieService';\nimport { getGenres } from '../services/genreService';\nimport Pagination from './commons/pagination';\nimport ListGroup from './commons/listGroup';\nimport MoviesTable from './moviesTable';\nimport paginate from '../utils/paginate';\nimport SearchBox from './commons/searchBox';\nimport './movies.css';\n\nclass Movies extends Component {\n  state = {\n    genres: [],\n    movies: [],\n    table: {},\n    pagination: {},\n    search: '',\n  };\n\n  constructor(props) {\n    super(props);\n    const { genres, movies, pagination } = this.state;\n    movies.data = [];\n    genres.selected = {};\n    genres.data = [];\n    genres.selected = {\n      _id: '5b21ca3eesdfdsfb7f6fbccd471820',\n      name: 'All Genre',\n    };\n    pagination.currentPage = 1;\n    pagination.pageSize = 4;\n\n    this.setState({\n      genres,\n      movies,\n      table: [],\n      pagination,\n      search: '',\n    });\n  }\n\n  async componentDidMount() {\n    await this.tableInit();\n    await this.genreInit();\n    await this.movieInit();\n    await this.paginationInt();\n  }\n\n  getMovieCount() {\n    const { movies } = this.state;\n    return movies.length;\n  }\n\n  handleDelete = async (id) => {\n    // const { movies: originalMovies } = this.state;\n    // const movies = originalMovies;\n    // movies.data = originalMovies.data.filter((m) => m._id !== id);\n    // this.setState({ movies });\n    // try {\n    //   await deleteMovie(id);\n    // } catch (ex) {\n    //   if (ex.response && ex.response.status === 404) {\n    //     toast.error('This movie has already been deleted');\n    //     this.setState({ movies: originalMovies });\n    //   }\n    // }\n  };\n\n  handleLike = (item) => {\n    const { movies } = this.state;\n    const index = movies.data.indexOf(item);\n    movies.data[index].like = !item.like;\n    this.setState({ movies });\n  };\n\n  handlePageChange = (page, action) => {\n    const { pagination } = this.state;\n    pagination.currentPage = page;\n    pagination.action = action;\n    this.setState({ pagination });\n  };\n\n  handleItemSelect = (item) => {\n    const { genres, pagination } = this.state;\n    genres.selected = item;\n    pagination.currentPage = 1;\n    this.setState({ genres, pagination, search: '' });\n  };\n\n  async genreInit() {\n    const { genres } = this.state;\n    const { data } = await getGenres();\n    genres.data = [\n      { _id: '5b21ca3eesdfdsfb7f6fbccd471820', name: 'All Genre' },\n      ...data,\n    ];\n\n    this.setState({ genres });\n  }\n\n  async tableInit() {\n    const { table, movies } = this.state;\n    table.sortHeaderAsc = true;\n    table.sortColumn = { path: 'title', order: 'asc' };\n    table.data = movies.data;\n    console.log('tableInit', table);\n    this.setState({ table });\n    console.log('this.state.table', this.state.table);\n  }\n\n  handleSort = (data) => {\n    const { table } = this.state;\n    table.sortColumn.path = data.tableProps.sortColumn.path;\n    this.setState({ table });\n  };\n\n  filtered = (movies, genres) => {\n    const filtered =\n      genres.selected.name === 'All Genre'\n        ? movies.data\n        : movies.data.filter((data) => data.genre._id === genres.selected._id);\n    return filtered;\n  };\n\n  sortedTable = (filtered, table) => {\n    const sorted = _.orderBy(\n      filtered,\n      [table.sortColumn.path],\n      [table.sortColumn.order]\n    );\n    return sorted;\n  };\n\n  searchItem = (movies, key) => {\n    const result = movies.data.filter((item) =>\n      item.title.toLowerCase().startsWith(key)\n    );\n    return result;\n  };\n\n  handleSearch = (query) => {\n    const { genres, pagination } = this.state;\n    genres.selected = { _id: 0, name: '' };\n    pagination.currentPage = 1;\n    this.setState({ search: query, genres, pagination });\n  };\n\n  paginationInt = async () => {\n    const { pagination, movies } = this.state;\n    pagination.allData = movies;\n    pagination.itemsCount = movies.data.length;\n    pagination.pageItemSize = 4;\n    pagination.currentPage = 1;\n    pagination.action = 'data';\n    this.setState({ pagination });\n  };\n\n  async movieInit() {\n    const { movies } = this.state;\n    // const { data } = console.log('data', data);\n    movies.data = await getMovies();\n    console.log('movies init', movies);\n    this.setState({ movies });\n  }\n\n  render() {\n    // return null;\n    const { movies, pagination, genres, table, search } = this.state;\n    const { currentPage, pageItemSize } = pagination;\n    const { user } = this.props;\n    if (movies.data.length === 0)\n      return <p className=\"mt-4 mb-2\">There are no movies in the database</p>;\n    // console.log('movies', movies);\n    const filtered =\n      search.length === 0\n        ? this.filtered(movies, genres)\n        : this.searchItem(movies, search);\n\n    const sorted = this.sortedTable(filtered, table);\n    const moviesData = paginate(sorted, currentPage, pageItemSize);\n    console.log('movies pagination', pagination);\n    // return null;\n    return (\n      <div className=\"row mt-4\">\n        <div className=\"col-md-3 mt-4\">\n          <ListGroup items={genres} onItemSelect={this.handleItemSelect} />\n        </div>\n        <div className=\"col-md-8\">\n          {user && (\n            <Link to=\"/movies/new\" className=\"btn btn-primary mb-2\">\n              New Movie\n            </Link>\n          )}\n          <p className=\"mt-4 mb-2\">\n            Showing {filtered.length} movies in the database\n          </p>\n          <div className=\"form-group\">\n            <SearchBox value={search} onChange={this.handleSearch} />\n          </div>\n          <MoviesTable\n            moviesData={moviesData}\n            tableProps={table}\n            onDelete={this.handleDelete}\n            onLike={this.handleLike}\n            onSort={this.handleSort}\n          />\n          <Pagination\n            itemsCount={filtered.length}\n            currentPage={pagination.currentPage}\n            pageSize={pagination.pageSize}\n            onPageChange={this.handlePageChange}\n            action={pagination.action}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n","import _ from 'lodash';\n\nexport default function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items).slice(startIndex).take(pageSize).value();\n}\n","import React, { Component } from 'react';\n\nclass Rentals extends Component {\n  render() {\n    return <h1 className=\"my-4\">Rentals</h1>;\n  }\n}\n\nexport default Rentals;\n","import React, { Component } from 'react';\n\nclass Customers extends Component {\n  //   state = {};\n\n  render() {\n    return <h1>Customers</h1>;\n  }\n}\n\nexport default Customers;\n","import React from 'react';\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <input {...rest} name={name} id={name} className=\"form-control\" />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from 'react';\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  // console.log('options', options);\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <div className=\"input-group my-2\">\n        <select name={name} className=\"custom-select\" id={name} {...rest}>\n          {options.map((item) => (\n            <option key={item._id} value={item._id}>\n              {item.name}\n            </option>\n          ))}\n        </select>\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n      </div>\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport { NavLink } from 'react-router-dom';\nimport Input from './input';\nimport Select from './select';\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n\n  validate = () => {\n    const { data } = this.state;\n    const errors = {};\n    const options = { abortEarly: false };\n    const result = Joi.validate(data, this.schema, options);\n    if (!result.error) return null;\n\n    for (const item of result.error.details)\n      errors[item.path[0]] = item.message;\n    return errors;\n  };\n\n  render() {\n    return null;\n  }\n\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n\n    return error ? error.details[0].message : null;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n\n  renderButton = (label, buttonOnly = false, path) => {\n    return buttonOnly === false\n      ? this.formButton(label)\n      : this.buttonOnly(label, path);\n  };\n\n  formButton = (label) => {\n    return (\n      <button disabled={this.validate()} className=\"btn btn-primary\">\n        {label}\n      </button>\n    );\n  };\n\n  buttonOnly = (label, path) => {\n    return (\n      <NavLink className=\"btn btn-primary\" to={path}>\n        {label}\n      </NavLink>\n    );\n  };\n\n  renderInput = (name, label, type = 'text') => {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        value={data[name]}\n        name={name}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  };\n\n  getSelectedItem = (id, itemId) => {\n    return id === itemId;\n  };\n\n  renderSelect = (name, label, options) => {\n    const { data, errors } = this.state;\n    // console.log('optionsxx', options);\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  };\n}\n\nexport default Form;\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport { toast } from 'react-toastify';\nimport { getGenres } from '../services/genreService';\nimport { getMovies, getMovie, saveMovie } from '../services/movieService';\nimport Form from './commons/form';\n\nclass MovieForm extends Form {\n  state = {\n    data: { title: '', genreId: '', numberInStock: '', dailyRentalRate: '' },\n    genres: [],\n    errors: {},\n  };\n\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string().required().label('Title'),\n    genreId: Joi.string().required().label('Genre'),\n    numberInStock: Joi.number()\n      .min(0)\n      .max(100)\n      .required()\n      .label('Number in Stock'),\n    dailyRentalRate: Joi.number()\n      .precision(1)\n      .required()\n      .min(0)\n      .max(10)\n      .label('Daily Rental Rate'),\n  };\n\n  async populateGenres() {\n    const { data: genres } = await getGenres();\n    this.setState({ genres });\n  }\n\n  async populateMovies() {\n    const movieId = this.props.match.params.id;\n    if (movieId === 'new') return;\n    // try {\n    const { data } = await getMovie(movieId);\n    this.setState({ data: this.mapToViewModel(data) });\n    // } catch (ex) {\n    //   if (ex.response && ex.response.status === 404)\n    //     toast.error('Id already deleted');\n    //   this.props.history.replace('/page404');\n    // }\n  }\n\n  async componentDidMount() {\n    await this.populateGenres();\n    await this.populateMovies();\n  }\n\n  mapToViewModel(movie) {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInStock,\n      dailyRentalRate: movie.dailyRentalRate,\n    };\n  }\n\n  doSubmit = async () => {\n    const { history } = this.props;\n    try {\n      await saveMovie(this.state.data);\n    } catch (ex) {\n      if (ex.response && ex.status === 404) {\n        toast.error('This movie has already been deleted');\n      }\n    }\n    history.push('/movies');\n  };\n\n  idChecker = (id) => {\n    const movies = getMovies();\n    return movies.filter((item) => item._id === id);\n  };\n\n  render() {\n    return (\n      <div className=\"row mt-5\">\n        <div className=\"col-md-4\">\n          <h1>Movie Form</h1>\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput('title', 'Title')}\n            {this.renderSelect('genreId', 'Genre', this.state.genres)}\n            {this.renderInput('numberInStock', 'Stock')}\n            {this.renderInput('dailyRentalRate', 'Rate')}\n            {this.renderButton('Save')}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieForm;\n","import React from 'react';\n\nconst Page404 = () => {\n  return <h1 className=\"my-4\">Page Not found</h1>;\n};\n\nexport default Page404;\n","import React from 'react';\nimport Joi from 'joi-browser';\nimport { Redirect } from 'react-router-dom';\nimport Form from './commons/form';\nimport auth from '../services/authService';\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: '', password: '' },\n    errors: {},\n  };\n\n  schema = {\n    username: Joi.string().required().label('Username'),\n    password: Joi.string().required().label('Password'),\n  };\n\n  doSubmit = async () => {\n    try {\n      const { username, password } = this.state.data;\n      await auth.login(username, password);\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : '/';\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    if (auth.getCurrentUser()) return <Redirect to=\"/\" />;\n    return (\n      <div className=\"row mt-5\">\n        <div className=\"col-md-4\">\n          <h1>LoginForm</h1>\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput('username', 'Login')}\n            {this.renderInput('password', 'Password', 'password')}\n            {this.renderButton('Login')}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import http from './httpService';\n\nconst apiEndPointUsers = '/users';\n\nexport function register(user) {\n  return http.post(apiEndPointUsers, {\n    email: user.username,\n    password: user.password,\n    name: user.name,\n  });\n}\n","import React from 'react';\nimport Joi from 'joi-browser';\n\nimport Form from './commons/form';\nimport * as userService from '../services/userService';\nimport auth from '../services/authService';\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: '', password: '', name: '' },\n    errors: {},\n  };\n\n  schema = {\n    username: Joi.string().required().email().label('Username'),\n    password: Joi.string().required().min(5).label('Password'),\n    name: Joi.string().label('Name'),\n  };\n\n  doSubmit = async () => {\n    try {\n      const { data: user } = this.state;\n      // console.log('Do submit! register', user);\n      const response = await userService.register(user);\n      // localStorage.setItem('token', response.headers['x-auth-token']);\n      auth.loginWithJwt(response.headers['x-auth-token']);\n      // this.props.history.push('/');\n      window.location = '/';\n      // console.log(response);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"row mt-5\">\n        <div className=\"col-md-4\">\n          <h1>Register</h1>\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput('username', 'Login')}\n            {this.renderInput('password', 'Password', 'password')}\n            {this.renderInput('name', 'Name')}\n            {this.renderButton('Register')}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import { Component } from 'react';\nimport auth from '../services/authService';\n\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = '/';\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport auth from '../../services/authService';\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      exact\n      render={(props) => {\n        if (!auth.getCurrentUser())\n          return (\n            <Redirect\n              to={{ pathname: '/login', state: { from: props.location } }}\n            />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Movies from './movies';\nimport Rentals from './rentals';\nimport Customers from './customers';\nimport MovieForm from './movieForm';\nimport Page404 from './page404';\nimport LoginForm from './loginForm';\nimport RegisterForm from './registerForm';\nimport Logout from './logout';\nimport ProtectedRoute from './commons/protectedRoute';\nimport '../App.css';\n\nclass Pages extends Component {\n  render() {\n    const { user } = this.props;\n    return (\n      <main className=\"container\">\n        <Switch>\n          <Route path=\"/login\" component={LoginForm} />\n          <Route path=\"/logout\" component={Logout} />\n          <Route path=\"/register\" component={RegisterForm} />\n\n          <ProtectedRoute path=\"/movies/:id\" component={MovieForm} />\n\n          <Route\n            path=\"/movies\"\n            render={(props) => <Movies {...props} user={user} />}\n          />\n\n          <ProtectedRoute path=\"/customers\" component={Customers} />\n          <Route path=\"/rentals\" component={Rentals} />\n          <Route path=\"/404\" component={Page404} />\n          <Route\n            path=\"/\"\n            exact\n            render={(props) => <Movies {...props} user={user} />}\n          />\n          <Redirect from=\"/\" exact to=\"/movies\" />\n          <Redirect to=\"/404\" />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default Pages;\n\n// const Pages = (props) => {\n//   return (\n//     <main className=\"container\">\n//       <Switch>\n//         <Route path=\"/login\" component={LoginForm} />\n//         <Route path=\"/logout\" component={Logout} />\n//         <Route path=\"/register\" component={RegisterForm} />\n//         <Route path=\"/movies/new\" exact component={MovieNewForm} />\n//         {/* <Route path=\"/movies/new/:id\" exact component={Movies} /> */}\n//         <Route path=\"/movies/:id\" exact component={MovieForm} />\n\n//         <Route path=\"/movies\" exact component={Movies} />\n//         <Route path=\"/customers\" component={Customers} />\n//         <Route path=\"/rentals\" component={Rentals} />\n//         <Route path=\"/404\" component={Page404} />\n//         <Route path=\"/\" exact component={Movies} />\n//         <Redirect from=\"/\" exact to=\"/movies\" />\n//         <Redirect to=\"/404\" />\n//       </Switch>\n//     </main>\n//   );\n// };\n\n// export default Pages;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport NavBar from './components/commons/navBar';\nimport Pages from './components/pages';\nimport auth from './services/authService';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\n\nclass App extends Component {\n  state = {};\n\n  componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({ user });\n  }\n\n  render() {\n    return (\n      <main className=\"container-fluid px-0\">\n        <ToastContainer />\n        <NavBar user={this.state.user} />\n        <Pages user={this.state.user} />\n      </main>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\n// import App from './App';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// // If you want your app to work offline and load faster, you can change\n// // unregister() to register() below. Note this comes with some pitfalls.\n// // Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}